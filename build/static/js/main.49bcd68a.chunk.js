(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=a(20),l=a(2),i=a(7),u=a(4),m=a(3),d=a(5),h=a(13),p=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{class:"navbar navbar-dark bg-primary"},r.a.createElement("a",{class:"navbar-brand",href:"#"},"Navbar"),r.a.createElement(h.b,{to:"/",className:"/"===window.location.pathname?"text-light nav-link active":"text-light nav-link"},"Search"),r.a.createElement(h.b,{to:"/saved",className:"/saved"===window.location.pathname?"text-light nav-link active":"text-light nav-link"},"Saved"))}}]),t}(n.Component),b=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"jumbotron jumbotron-fluid"},r.a.createElement("div",{class:"container text-center"},r.a.createElement("h4",{class:"display-4"},"(React) Google Books Search"),r.a.createElement("p",{class:"lead"},"Search for and Save Books of Interest")))}}]),t}(n.Component),v=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"card mb-3"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{class:"form-inline"},r.a.createElement("h6",null,"Search for a Book"),r.a.createElement("div",{class:"form-group mx-sm-3 mb-2"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Title",name:"keywords",onChange:this.props.handleInputChange,value:this.props.value})),r.a.createElement("button",{onClick:this.props.handleFormSubmit,type:"submit",class:"btn btn-primary mb-2"},"Search"))))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).addBookToDatabase=function(){return fetch("/api/books",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a.props.data.volumeInfo.title,image:a.props.data.volumeInfo.imageLinks.smallThumbnail,description:a.props.data.volumeInfo.description,authors:a.props.data.volumeInfo.authors,link:a.props.data.selfLink})})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"card mb-3"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",null,this.props.data.volumeInfo.title),r.a.createElement("img",{src:this.props.data.volumeInfo.imageLinks.smallThumbnail}),r.a.createElement("div",null,this.props.data.volumeInfo.description),r.a.createElement("div",null,this.props.data.volumeInfo.authors),r.a.createElement("a",{href:this.props.data.selfLink},"Go to book."),r.a.createElement("button",{onClick:this.addBookToDatabase},"Add to Favorites")))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.grabBooksFromApi()},a.componentDidUpdate=function(){a.props.activeSearchTerm!==a.state.searchTerm&&(a.setState({searchTerm:a.props.activeSearchTerm}),setTimeout(function(){a.grabBooksFromApi()},10))},a.grabBooksFromApi=function(){var e="https://www.googleapis.com/books/v1/volumes?q=title:".concat(a.state.searchTerm);fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({searchResults:e.items})})},a.render=function(){if(void 0===a.state.searchResults)return r.a.createElement("div",{class:"card mb-3 p-3 bg-secondary"},r.a.createElement("h6",null,"Results"),r.a.createElement("div",{class:"card-body"},"There are no records to display."));var e=a.state.searchResults.map(function(e){return r.a.createElement(f,{key:e.id,data:e})});return r.a.createElement("div",{class:"card mb-3 p-3 bg-secondary"},r.a.createElement("h6",null,"Results"),r.a.createElement("div",{class:"card-body"},e))},a.state={searchResults:[],searchTerm:""},a}return Object(d.a)(t,e),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).deleteAsAFavorite=function(){return fetch("/api/books/".concat(a.props.data._id),{method:"delete",headers:{"Content-Type":"application/json"}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"card mb-3"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",null,this.props.data.title),r.a.createElement("img",{src:this.props.data.image}),r.a.createElement("div",null,this.props.data.description),r.a.createElement("div",null,this.props.data.authors),r.a.createElement("a",{href:this.props.data.link},"Read more.")),r.a.createElement("button",{onClick:this.deleteAsAFavorite},"Delete ",this.props.data._id))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentWillMount=function(){return a.grabSavedFromDatabase()},a.componentDidUpdate=function(){return a.grabSavedFromDatabase()},a.grabSavedFromDatabase=function(){fetch("/api/books").then(function(e){return e.json()}).then(function(e){a.setState({savedBooks:e})})},a.render=function(){var e=a.state.savedBooks.map(function(e){return r.a.createElement(j,{data:e})});return void 0===e?null:r.a.createElement("div",{class:"card mb-3 p-3 bg-secondary"},r.a.createElement("h6",null,"Saved Books"),r.a.createElement("div",{class:"card-body"},e))},a.state={savedBooks:[]},a}return Object(d.a)(t,e),t}(n.Component),O=a(10),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(s.a)({},n,t))},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({activeSearchTerm:a.state.keywords})},a.state={activeSearchTerm:"",keywords:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(p,null),r.a.createElement(b,null),r.a.createElement(O.a,{exact:!0,path:"/saved",component:k}),r.a.createElement(O.a,{exact:!0,path:"/",className:"container"},r.a.createElement(v,{value:this.state.keywords,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),r.a.createElement(E,{activeSearchTerm:this.state.activeSearchTerm})))}}]),t}(n.Component);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null))};o.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.49bcd68a.chunk.js.map